#!/bin/sh
# Pre-commit hook that enforces code quality

echo "🔍 Running pre-commit quality checks..."

# Run lint check
echo "📋 Checking code style with ESLint..."
npm run lint
if [ $? -ne 0 ]; then
  echo "❌ Lint check failed! Please fix the issues before committing."
  echo "💡 Try running: npm run lint:fix"
  exit 1
fi

# Run tests
echo "🧪 Running tests..."
npm run test:coverage
if [ $? -ne 0 ]; then
  echo "❌ Tests failed! Please fix the failing tests before committing."
  exit 1
fi

echo "✅ All quality checks passed! Proceeding with commit..."
exit 0
